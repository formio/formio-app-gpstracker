!function(){"use strict";angular.module("formioAppTodo",["ngSanitize","ui.router","ui.bootstrap","formio","ngFormioHelper","bgf.paginateAnything","ngMap"])}(),function(){"use strict";angular.module("formioAppTodo").run(["$rootScope","AppConfig","FormioAuth","FormioOffline","$state",function(o,r,t,i,e){t.init(),i.init(),o.$on("formio.unauthorized",function(){o.setUser(null,null),e.go("auth.login",{},{reload:!0})}),angular.forEach(r.forms,function(r,t){o[t]=r}),o.isActive=function(o){return-1!==e.current.name.indexOf(o)}}])}(),function(){"use strict";function o(o,r,t,i,e,n,s){n.setBaseUrl(s.apiUrl),n.setAppUrl(s.appUrl),e.register({errorUrl:"/error",homeState:"home"}),i.register("login","user",s.forms.userLoginForm),i.register("register","user",s.forms.userRegisterForm),o.state("home",{url:"/",templateUrl:"views/main.html",controller:["$scope","$state","$rootScope",function(o,r,t){o.trails=[],o.trailsUrl=t.trailForm+"/submission"}]}),t.register("trail",s.forms.trailForm,{templates:{view:"views/trail/view.html",create:"views/trail/create.html"},controllers:{create:["$scope","$window","$timeout",function(o,r,t){o.recording=!1,o.submission.data.points=[];var i=function(t){r.navigator.geolocation.getCurrentPosition(function(r){o.submission.data.points.push({lat:r.coords.latitude,lng:r.coords.longitude}),o.$apply(),t&&t()})};o.setRecording=function(r){o.recording=r,o.nextPoint()},o.nextPoint=function(){o.recording&&i(function(){t(o.nextPoint,1e3)})},i()}]}}),r.otherwise("/")}o.$inject=["$stateProvider","$urlRouterProvider","FormioResourceProvider","FormioAuthProvider","FormioOfflineProvider","FormioProvider","AppConfig"],angular.module("formioAppTodo").config(o)}(),function(){"use strict";angular.module("formioAppTodo").constant("moment",moment)}();